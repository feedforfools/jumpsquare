@import "tailwindcss";
@import "tw-animate-css";
@tailwind utilities;

@variant dark (&:is(.dark, .dark *));

@layer base {
  body {
    min-width: 375px;
  }
}

@layer theme {
  :root {
    /* === Core UI System (Shadcn/UI) === */
    --background: 3 45% 97%;
    --foreground: 222.2 84% 4.9%;
    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;
    --primary: 222.2 47.4% 11.2%;
    --primary-foreground: 210 40% 98%;
    --secondary: 210 40% 96%;
    --secondary-foreground: 222.2 47.4% 11.2%;
    --muted: 210 40% 96%;
    --muted-foreground: 215.4 16.3% 46.9%;
    --accent: 210 40% 96%;
    --accent-foreground: 222.2 47.4% 11.2%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;
    --border: 0 0% 94%;
    --input: 214.3 31.8% 91.4%;
    --ring: 222.2 84% 4.9%;
    --radius: 0.5rem;

    /* === App-Specific Brand Colors === */
    --brand-red: 0 60% 48%;           /* Slightly less saturated */
    --brand-red-hover: 0 70% 40%;     /* Deeper on hover */
    --brand-red-hover-light: 0 50% 98%;/* red-50 equivalent */
    --brand-red-hero: 0 85% 92%;      /* red-100 for hero equivalent */
    --brand-red-light: 0 55% 95%;     /* red-100 equivalent */
    --brand-red-lighter: 0 75% 91%;   /* red-100 equivalent */
    --brand-red-border: 0 45% 88%;    /* red-200 equivalent */

    /* === Gray Scale System === */
    --gray-50: 210 20% 98%;
    --gray-100: 210 20% 95%;
    --gray-200: 210 16% 93%;
    --gray-300: 210 14% 89%;
    --gray-400: 210 14% 83%;
    --gray-500: 210 11% 71%;
    --gray-600: 210 7% 56%;
    --gray-700: 210 9% 31%;
    --gray-800: 210 10% 23%;
    --gray-900: 210 11% 15%;

    /* === Semantic App Colors === */
    --app-surface: var(--background);
    --app-surface-secondary: var(--card);
    --app-text: var(--foreground);
    --app-text-secondary: var(--gray-700);
    --app-text-muted: var(--gray-600);
    
    /* === Hero Gradient === */
    --hero-gradient-from: var(--brand-red-hero);
    --hero-gradient-to: var(--background);
    
    /* === Jumpscare Intensity Colors === */
    --jumpscare-low: 226 71% 40%;         /* blue-800 */
    --jumpscare-low-bg: 214 95% 93%;      /* blue-100 */
    --jumpscare-mild: 142 50% 35%;        /* green-800 */
    --jumpscare-mild-bg: 142 50% 95%;     /* green-50 */
    --jumpscare-moderate: 45 70% 35%;     /* yellow-800 */
    --jumpscare-moderate-bg: 48 96% 89%;  /* yellow-100 */
    --jumpscare-strong: 15 79% 34%;       /* orange-800 */
    --jumpscare-strong-bg: 34 100% 92%;   /* orange-100 */
    --jumpscare-intense: 0 70% 35%;       /* red-800 */
    --jumpscare-intense-bg: 0 93% 94%;    /* red-100 */

    --neobrutalism-border: 0 0% 0%; /* Pure Black */
  }

  /* Dark Theme Overrides */
  .dark {
    --background: 0 15% 8%;          /* Darker red base */
    --foreground: 210 40% 98%;
    --card: 0 15% 17%;                /* Match background */
    --card-foreground: 210 40% 98%;
    --popover: 0 25% 10%;             /* Match background */
    --popover-foreground: 210 40% 98%;
    --primary: 210 40% 98%;
    --primary-foreground: 0 0% 0%;
    --secondary: 0 12% 16%;           /* Dark red secondary */
    --secondary-foreground: 210 40% 98%;
    --muted: 0 20% 15%;               /* Match secondary */
    --muted-foreground: 215 20.2% 65.1%;
    --accent: 0 20% 15%;              /* Match secondary */
    --accent-foreground: 210 40% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;
    --border: 0 10% 22%;              /* Dark red border */
    --input: 0 20% 15%;               /* Match border */
    --ring: 212.7 26.8% 83.9%;

    /* === App-Specific Dark Colors === */
    --brand-red: 1 75% 48%;           /* Higher lightness, moderate saturation */
    --brand-red-hover: 0 70% 70%;     /* Lighter on hover in dark mode */
    --brand-red-hero: 0 60% 12%;      /* Dark red hero background */
    --brand-red-light: 0 45% 8%;      /* Very dark red background */
    --brand-red-lighter: 0 50% 14%;   /* Dark red lighter variant */
    --brand-red-border: 0 40% 20%;    /* Dark red border */

    /* === Dark Gray Scale === */
    --gray-50: 0 15% 12%;             /* Dark red base */
    --gray-100: 0 12% 16%;            /* Slightly lighter dark red */
    --gray-200: 0 10% 22%;            /* Red-tinted dark gray */
    --gray-300: 0 8% 30%;             /* Subtle red-tinted gray */
    --gray-400: 0 6% 40%;             /* Very subtle red-tinted gray */
    --gray-500: 215 20.2% 65.1%;
    --gray-600: 210 40% 80%;
    --gray-700: 210 40% 85%;
    --gray-800: 210 40% 90%;
    --gray-900: 210 40% 95%;

    /* === Dark Semantic Colors === */
    --app-surface: var(--background);
    --app-surface-secondary: var(--card);
    --app-text: var(--foreground);
    --app-text-secondary: var(--gray-600);
    --app-text-muted: var(--gray-500);

    /* === Dark Hero Gradient === */
    --hero-gradient-from: var(--brand-red-hero);
    --hero-gradient-to: var(--background);
    
    /* === Dark Jumpscare Colors === */
    --jumpscare-low: 226 71% 60%;         /* Brighter blue for dark mode */
    --jumpscare-low-bg: 220 30% 12%;      /* Dark blue with red undertone */
    --jumpscare-mild: 142 50% 58%;        /* Brighter green */
    --jumpscare-mild-bg: 140 25% 12%;     /* Dark green with red undertone */
    --jumpscare-moderate: 45 70% 65%;     /* Brighter yellow */
    --jumpscare-moderate-bg: 42 30% 12%;  /* Dark yellow with red undertone */
    --jumpscare-strong: 15 79% 55%;       /* Brighter orange for dark mode */
    --jumpscare-strong-bg: 10 35% 12%;    /* Dark orange with red undertone */
    --jumpscare-intense: var(--brand-red);        /* Use brand red */
    --jumpscare-intense-bg: var(--brand-red-lighter);  /* Use brand red bg */
  }

  /* === Neobrutalism Theme Foundation === */
  @theme inline {
    /* --- Color System --- */
    --color-main: hsl(var(--brand-red));
    --color-background: hsl(var(--app-surface));
    --color-secondary-background: hsl(var(--app-surface-secondary));
    --color-foreground: hsl(var(--app-text));
    --color-main-foreground: hsl(var(--primary-foreground));
    --color-border: hsl(var(--neobrutalism-border));
    --color-ring: hsl(var(--ring));
    --color-overlay: oklch(0% 0 0 / 0.8);

    /* --- Spacing, Radius, Shadows, Typography --- */
    --spacing-boxShadowX: 4px;
    --spacing-boxShadowY: 4px;
    --spacing-reverseBoxShadowX: -4px;
    --spacing-reverseBoxShadowY: -4px;
    --radius-base: 6px;
    --shadow-shadow: var(--spacing-boxShadowX) var(--spacing-boxShadowY) 0px 0px var(--color-border);
    --font-weight-base: 500;
    --font-weight-heading: 700;
  }
}

@layer utilities {
  /* Line clamping utilities */
  .line-clamp-2 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
  }
  
  .line-clamp-3 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 3;
  }
  
  /* Animation keyframes and classes */
  @keyframes breathing {
    0%, 100% {
      transform: scale(1);
    }
    50% {
      transform: scale(1.5);
    }
  }
  
  .animate-breathing {
    animation: breathing 0.8s ease-in-out infinite;
  }
  
  @keyframes shimmer {
    100% {
      transform: translateX(100%);
    }
  }

  /* Text stroke utilities for header title */
  .text-stroke-black {
    -webkit-text-stroke: 1px hsl(var(--gray-900));
    text-stroke: 1px hsl(var(--gray-900));
    paint-order: stroke fill;
  }
  
  .text-stroke-white {
    -webkit-text-stroke: 1px hsl(var(--gray-100));
    text-stroke: 1px hsl(var(--gray-100)); 
    paint-order: stroke fill;
  }

  /* Theme-aware background utilities */
  .bg-hero-gradient {
    background: linear-gradient(to bottom, hsl(var(--hero-gradient-from)), hsl(var(--hero-gradient-to)));
  }

  .bg-dot-pattern {
    background-image: radial-gradient(hsl(var(--foreground) / 0.1) 1px, transparent 1px);
    background-size: 20px 20px;
  }
  
  .bg-app-surface {
    background-color: hsl(var(--app-surface));
  }
  
  .bg-app-surface-secondary {
    background-color: hsl(var(--app-surface-secondary));
  }
  
  /* Theme-aware text utilities */
  .text-app-text {
    color: hsl(var(--app-text));
  }
  
  .text-app-text-secondary {
    color: hsl(var(--app-text-secondary));
  }
  
  .text-app-text-muted {
    color: hsl(var(--app-text-muted));
  }
  
  /* Brand color utilities */
  .bg-brand-red {
    background-color: hsl(var(--brand-red));
  }
  
  .bg-brand-red-light {
    background-color: hsl(var(--brand-red-light));
  }
  
  .bg-brand-red-lighter {
    background-color: hsl(var(--brand-red-lighter));
  }
  
  .text-brand-red {
    color: hsl(var(--brand-red));
  }
  
  .border-brand-red-border {
    border-color: hsl(var(--brand-red-border));
  }
  
  .hover\:bg-brand-red-hover:hover {
    background-color: hsl(var(--brand-red-hover));
  }

  .hover\:bg-brand-red-hover-light:hover {
    background-color: hsl(var(--brand-red-hover-light));
  }

  .hover\:text-brand-red:hover {
    color: hsl(var(--brand-red));
  }

  /* Jumpscare intensity utilities */
  .bg-jumpscare-low {
    background-color: hsl(var(--jumpscare-low));
  }
  
  .bg-jumpscare-low-bg {
    background-color: hsl(var(--jumpscare-low-bg));
  }
  
  .text-jumpscare-low {
    color: hsl(var(--jumpscare-low));
  }
  
  .bg-jumpscare-mild {
    background-color: hsl(var(--jumpscare-mild));
  }
  
  .bg-jumpscare-mild-bg {
    background-color: hsl(var(--jumpscare-mild-bg));
  }
  
  .text-jumpscare-mild {
    color: hsl(var(--jumpscare-mild));
  }
  
  .bg-jumpscare-moderate {
    background-color: hsl(var(--jumpscare-moderate));
  }
  
  .bg-jumpscare-moderate-bg {
    background-color: hsl(var(--jumpscare-moderate-bg));
  }
  
  .text-jumpscare-moderate {
    color: hsl(var(--jumpscare-moderate));
  }
  
  .bg-jumpscare-strong {
    background-color: hsl(var(--jumpscare-strong));
  }
  
  .bg-jumpscare-strong-bg {
    background-color: hsl(var(--jumpscare-strong-bg));
  }
  
  .text-jumpscare-strong {
    color: hsl(var(--jumpscare-strong));
  }
  
  .bg-jumpscare-intense {
    background-color: hsl(var(--jumpscare-intense));
  }
  
  .bg-jumpscare-intense-bg {
    background-color: hsl(var(--jumpscare-intense-bg));
  }
  
  .text-jumpscare-intense {
    color: hsl(var(--jumpscare-intense));
  }

  /* Gray scale utilities - only the most commonly used ones */
  .text-gray-500 {
    color: hsl(var(--gray-500));
  }
  
  .text-gray-700 {
    color: hsl(var(--gray-700));
  }
  
  .text-gray-900 {
    color: hsl(var(--gray-900));
  }
  
  .bg-gray-100 {
    background-color: hsl(var(--gray-100));
  }
  
  .border-gray-200 {
    border-color: hsl(var(--gray-200));
  }
  
  .border-gray-800 {
    border-color: hsl(var(--gray-800));
  }
}